webpackJsonp([4],{"9z78":function(e,t){},Jn3e:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{pageSize:6,currentPage:1,currCollection:[],collection:[],hostURL:"localhost"}},methods:{handleSizeChange:function(e){},handleCurrentChange:function(e){},getCollectionList:function(){var e=this,t=this,o={studentID:sessionStorage.getItem("studentID")};t.$axios.post("/api/user_function/collectionQuery",o).then(function(o){t.collection=o.data.data,console.log(t.collection);for(var n=0;n<e.pageSize&&e.pageSize*(e.currentPage-1)+n<e.collection.length;n++)switch(e.currCollection.push(e.collection[e.pageSize*(e.currentPage-1)+n]),e.currCollection[n].itemID=e.pageSize*(e.currentPage-1)+n+1,e.currCollection[n].collectionType){case 0:e.currCollection[n].leixing="词法分析"}console.log(12313213),console.log(e.currCollection)}).catch(function(t){e.$message({type:"info",message:"connection fail,press F12 to see the error in console"}),console.log("ERROR:"),console.log(t)})},deleteItem:function(e){var t=this,o={collectionID:e,studentID:sessionStorage.getItem("studentID")};this.$axios.post("/api/user_function/collectionDelete",o).then(function(e){if(console.log(e.data),1===e.data.state){t.$message({type:"success",message:e.data.message}),t.currCollection=[];var o=t,n={studentID:sessionStorage.getItem("studentID")};o.$axios.post("/api/user_function/collectionQuery",n).then(function(e){o.collection=e.data.data,console.log(o.collection);for(var n=0;n<t.pageSize&&t.pageSize*(t.currentPage-1)+n<t.collection.length;n++)switch(t.currCollection.push(t.collection[t.pageSize*(t.currentPage-1)+n]),t.currCollection[n].itemID=t.pageSize*(t.currentPage-1)+n+1,t.currCollection[n].collectionType){case 0:t.currCollection[n].leixing="词法分析"}console.log(12313213),console.log(t.currCollection)}).catch(function(e){t.$message({type:"info",message:"connection fail,press F12 to see the error in console"}),console.log("ERROR:"),console.log(e)})}else t.$message({type:"info",message:"删除收藏失败"})}).catch(function(e){t.$message({type:"info",message:"connection fail,press F12 to see the error in console"}),console.log("ERROR:"),console.log(e)})},gotoWatch:function(e){0===e.collectionType&&(localStorage.setItem("collectionToWatch",e.data_content),this.$router.push("/index/lexical-analysis"))}},mounted:function(){document.getElementById("p").style.height=window.innerHeight-110+"px",window.innerHeight>700?this.pageSize=6:this.pageSize=4,this.getCollectionList()},watch:{currentPage:function(){console.log(this.currentPage),this.currCollection=[];for(var e=0;e<this.pageSize&&this.pageSize*(this.currentPage-1)+e<this.collection.length;e++)switch(this.currCollection.push(this.collection[this.pageSize*(this.currentPage-1)+e]),this.currCollection[e].itemID=this.pageSize*(this.currentPage-1)+e+1,this.currCollection[e].collectionType){case 0:this.currCollection[e].leixing="词法分析"}console.log(this.currCollection)}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"shoppingCart",attrs:{id:"p"}},[o("el-header",[o("h1",{staticClass:"head"},[e._v("我的收藏")]),e._v(" "),o("div",{staticClass:"headLine"})]),e._v(" "),o("div",{staticClass:"cartTable"},[o("el-row",[o("el-col",{attrs:{span:2}},[e._v("编号")]),e._v(" "),o("el-col",{attrs:{span:4}},[e._v("类型")]),e._v(" "),o("el-col",{attrs:{span:12}},[e._v("文法")]),e._v(" "),o("el-col",{attrs:{span:4}},[e._v("操作")])],1),e._v(" "),o("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),o("div",{staticClass:"table-block"},e._l(e.currCollection,function(t){return o("div",{staticClass:"table"},[o("el-row",[o("el-col",{attrs:{span:2}},[e._v(e._s(t.itemID))]),e._v(" "),o("el-col",{attrs:{span:4}},[o("p",[e._v(e._s(t.leixing))])]),e._v(" "),o("el-col",{staticStyle:{"margin-right":"80px"},attrs:{span:10}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data_content,expression:"item.data_content"}],staticClass:"textStyle",attrs:{readonly:"readonly",rows:4},domProps:{value:t.data_content},on:{input:function(o){o.target.composing||e.$set(t,"data_content",o.target.value)}}})]),e._v(" "),o("el-col",{attrs:{span:1}},[o("el-button",{attrs:{type:"text"},on:{click:function(o){e.gotoWatch(t)}}},[e._v("查看")])],1),e._v(" "),o("el-col",{attrs:{span:2}},[o("el-button",{staticStyle:{color:"#f00"},attrs:{type:"text"},on:{click:function(o){e.deleteItem(t.collectionID)}}},[e._v("删除")])],1)],1)],1)})),e._v(" "),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"prev, pager, next",total:e.collection.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(n,c,!1,function(e){o("9z78")},"data-v-04f3f236",null);t.default=l.exports}});
//# sourceMappingURL=4.7fd9f3ef1968ada880bf.js.map